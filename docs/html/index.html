<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sorting Network Verify and Draw: Sorting Network Verify and Draw</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sorting Network Verify and Draw
   </div>
   <div id="projectbrief">Check Whether Comparator Networks Sort and Draw Them</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Sorting Network Verify and Draw </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="section1"></a> </p><h2>1. Introduction </h2>
<p >This sorting network drawing and verification tool, the source code of which is written and maintained by <a href="https://ianparberry.com">Ian Parberry</a>, can generate instances of common sorting networks or load them from a text file, display them in a window, and export the image to a file in bitmap or vector graphic formats.</p>
<p >A <em>comparator network</em> consists of a fixed number of <em>channels</em> that carry scalar values from some strongly ordered set (usually integers or floating point numbers), and <em>comparators</em> that connect pairs of channels, swapping the values on the channels if they are not in a desired order. Comparator networks that sort all inputs are called <em>sorting networks</em>. See the <a href="https://en.wikipedia.org/wiki/Sorting_network">Wikipedia page</a> for more information.</p>
<p >Comparator network are typically drawn with the channels running horizontally and the comparators running vertically. For example, <a class="el" href="index.html#fig1">Fig. 1</a> shows a 16-input sorting network. The comparators route the smaller of the values on its channels to the upper of the two channels that it is connected to, and the larger of the two values to the lower channel. A comparator network can be be tested to verify that it is a sorting network, that is, whether the outputs of the sorting network are in non-descending order from top to bottom.</p>
<p ><a class="anchor" id="fig1"></a> </p><div class="image">
<object type="image/svg+xml" data="knuth16.svg" width="35%" style="pointer-events: none;"></object>
<div class="caption">
Fig. 1: A 16-input sorting network.</div></div>
<p >The remainder of this page is divided into 3 sections. <a class="el" href="index.html#section2">Section 2</a> gives an overview of the code. <a class="el" href="index.html#section3">Section 3</a> describes the controls, which are contained in the menu bar. <a class="el" href="index.html#section4">Section 4</a> lists the sample input files provided, each with a brief description.</p>
<hr  />
<p ><a class="anchor" id="section2"></a> </p><h2>2. Code Overview </h2>
<p >It is assumed that the reader is familiar with the basics of Windows programming such as <code>WinMain</code>, the Window procedure, message passing, and drop-down menus. <code><a class="el" href="_main_8cpp.html" title="The window procedure WndProc(), and wWinMain().">Main.cpp</a></code> contains the mandatory Windows functions <code><a class="el" href="_main_8cpp.html#ad7483c50ba0ceb8cee64426d4e7e9bb3" title="Winmain.">wWinMain()</a></code> and a Window procedure <code><a class="el" href="_main_8cpp.html#a30a1e3b0304f1b083637664cbda94e72" title="Window procedure.">WndProc()</a></code>, which use a single global variable <code>static CMain* g_pMain</code>. Most of the other gnarly Windows-specific code, which used the <code>Win32</code> API, is hidden away in <code><a class="el" href="_windows_helpers_8cpp.html" title="Code for some helpful Windows-specific functions.">WindowsHelpers.cpp</a></code> and <code><a class="el" href="_windows_helpers_8cpp.html" title="Code for some helpful Windows-specific functions.">WindowsHelpers.cpp</a></code>. <code>Gdi+</code> is used for the graphics. The main class is <code><a class="el" href="class_c_main.html" title="The main class.">CMain</a></code>, which encapsulates the main body of the code in the approved object-oriented fashion.</p>
<hr  />
<p ><a class="anchor" id="section3"></a> </p><h2>3. The Controls </h2>
<p >The menu bar at the top of the program window has four drop-down menus, <a class="el" href="index.html#filemenu">File</a>, <a class="el" href="index.html#generatemenu">Generate</a>, <a class="el" href="index.html#viewmenu">View</a>, and <a class="el" href="index.html#helpmenu">Help</a>.</p>
<p ><a class="anchor" id="filemenu"></a> </p><h3>3.1 The <code>File</code> Menu</h3>
<div class="image">
<img src="FileMenu.png" alt=""/>
</div>
<p >The <code>File</code> menu has four options, <a class="el" href="index.html#open">Open</a>, <a class="el" href="index.html#verify">Verify</a>, <a class="el" href="index.html#export">Export</a>, and <a class="el" href="index.html#quit">Quit</a>.</p>
<p ><a class="anchor" id="open"></a></p><h4>3.1.1 <code>Open</code></h4>
<p >Selecting <code>Open</code> will pop up an <code>Open</code> <code>File</code> dialog box that will allow you to choose a text file to load. Be aware that there is minimal error checking and no error reporting, so it is best to load only text files that are in the correct format for a comparator network, which is as follows. An \(n\)-input comparator network of depth \(d\) will have \(d\) lines of text, one for each layer of non-overlapping comparators (that is, no two comparators in the same level can have a channel in common). Each line contains a number of pairs \(i,j\) of channel numbers, one for each comparator on that level, where \(0 \leq i,j &lt; n\). The channel numbers should be separated by spaces. For example, the following three-line text file </p><pre class="fragment"> 0 1 2 3
 0 2 1 3
 1 2
</pre><p> describes the four-input sorting network below in <a class="el" href="index.html#fig2">Fig. 2</a> The channels are numbered 0 through 3 from bottom to top.</p>
<p ><a class="anchor" id="fig2"></a> </p><div class="image">
<object type="image/svg+xml" data="w4d3s5.svg" width="10%" style="pointer-events: none;"></object>
<div class="caption">
Fig. 2: A 4-input sorting network.</div></div>
<p >This sorting network can be loaded from <code>w4d3s5.txt</code>, which can be found, along with a few other examples, in the folder containing the Visual Studio solution file for this project.</p>
<p ><a class="anchor" id="verify"></a></p><h4>3.1.2 <code>Verify</code></h4>
<p >Selecting <code>Verify</code> will pop up a dialog box that tells you various information about the current comparator network including its size and depth and whether it is a sorting network. This latter will take time exponential in the number of inputs, which is probably the best we can do because sorting network verification is Co-NP-complete even for shallow sorting networks (for example, see the following papers).</p>
<blockquote class="doxtable">
<p >I. Parberry, "Single-exception sorting networks and the computational complexity of 
optimal sorting network verification", <em>Mathematical Systems Theory</em>, Vol. 23, No. 1, pp. 81–93, 1990.</p>
<p >I. Parberry, "On the computational complexity of optimal sorting network 
verification", in Parle91, Proceedings of Parallel Architectures and Languages Europe, pp. 252-269, 1991. </p>
</blockquote>
<p>You will be warned if the number of inputs to the sorting network is 30 or larger via the following dialog box. Clicking on the <code>No</code> button will abort the test. Clicking on the <code>Yes</code> button will allow the test to proceed. Be aware that if it takes too long, then the only way to cancel it will be to quit the program by clicking several times on the standard red x button at top-right of the window.</p>
<div class="image">
<img src="proceed.png" alt="" width="40%"/>
</div>
<p >If the comparator network is a sorting network, then any redundant comparators (those that do not perform any swaps when sorting) will be drawn in red, as shown in <a class="el" href="index.html#fig3">Fig. 3</a>, the sorting network from file <code>w10d7s32.txt</code>.</p>
<p ><a class="anchor" id="fig3"></a> </p><div class="image">
<object type="image/svg+xml" data="w10d7s32-0.svg" width="25%" style="pointer-events: none;"></object>
<div class="caption">
Fig 3. A sorting network with a redundant comparator.</div></div>
<p ><a class="anchor" id="export"></a></p><h4>3.1.3 <code>Export</code></h4>
<div class="image">
<img src="ExportMenu.png" alt=""/>
</div>
<p >The <code>Export</code> sub-menu will pop up a <code>Save</code> <code>File</code> dialog box that can save an image of the current comparator network in one of three formats.</p>
<ol type="1">
<li><code>Png</code> saves the image as a bitmap in <code>Portable</code> <code>Network</code> <code>Graphics</code> format.</li>
<li><code>Svg</code> saves the image in <code>Scalable</code> <code>Vector</code> <code>Graphics</code> format which can be opened in any web browser. This is superior to <code>Png</code> format in that it can be zoomed in or out without pixelation.</li>
<li><code>TeX</code> saves the image as a \(\TeX\) <code>picture</code> environment that can be used as a figure in a \(\LaTeX\) document. For example, if the sorting network <code>knuth16.txt</code> is exported as <code>knuth16.tex</code>, then the following \(\LaTeX\) code will input it into a manuscript as a figure. <div class="fragment"><div class="line">\begin{figure}</div>
<div class="line">  \centering\input{knuth16.tex}</div>
<div class="line">  \caption{A 16-input sorting network.}</div>
<div class="line">\end{figure}</div>
</div><!-- fragment --></li>
</ol>
<p ><a class="anchor" id="quit"></a></p><h4>3.1.4 <code>Quit</code></h4>
<p >Selecting <code>Quit</code> will exit the program.</p>
<p ><a class="anchor" id="generatemenu"></a></p><h3>3.2 The <code>Generate</code> Menu</h3>
<div class="image">
<img src="GenerateMenu.png" alt=""/>
</div>
<p >The <code>Generate</code> menu has six options, <a class="el" href="index.html#bubblesortmin">Bubblesort-min</a>, <a class="el" href="index.html#bubblesortmax">Bubblesort-max</a>, <a class="el" href="index.html#bubblesort">Bubblesort</a>, <a class="el" href="index.html#oddeven">Odd-even</a>, <a class="el" href="index.html#bitonic">Bitonic</a>, and <a class="el" href="index.html#pairwise">Pairwise</a>. All of these will pop up a dialog box asking for the number of inputs.</p>
<div class="image">
<img src="inputs.png" alt=""/>
</div>
<p ><a class="anchor" id="bubblesortmin"></a></p><h4>3.2.1 <code>Bubblesort-min</code></h4>
<p ><code>Bubblesort-min</code> generates a sorting network that emulates the classical bubblesort algorithm by bubbling the smallest value to the minimum channel, then the second smallest value to the second minimum channel, etc., placing each sequence of comparators as close as possible to take advantage of parallelism. An \(n\)-input <code>Bubblesort-min</code> sorting network has depth \(2n-3\) and size (number of comparators) \(n(n-1)/2\). <a class="el" href="index.html#fig4">Fig. 4</a> (left) shows an example with 16 inputs.</p>
<p ><a class="anchor" id="fig4"></a></p><div class="image">
<object type="image/svg+xml" data="Bubblesort16.svg" width="95%" style="pointer-events: none;"></object>
<div class="caption">
Fig. 4: 16-input bubblesort-min (left), bubblesort-max (center) and bubblesort (right) sorting networks.</div></div>
<p ><a class="anchor" id="bubblesortmax"></a></p><h4>3.2.2 <code>Bubblesort-max</code></h4>
<p ><code>Bubblesort-max</code> generates a similar sorting network that bubbles maxima instead of minima. It also has depth \(2n-3\) and size \(n(n-1)/2\). <a class="el" href="index.html#fig4">Fig. 4</a> (center) shows an example with 16 inputs.</p>
<p ><a class="anchor" id="bubblesort"></a></p><h4>3.2.3 <code>Bubblesort</code></h4>
<p ><code>Bubblesort</code> generates a fully parallelized bubblesort. An \(n\)-input <code>Bubblesort</code> sorting network has depth \(n\) and size \(n(n-1)/2\). <a class="el" href="index.html#fig4">Fig. 4</a> (right) shows an example with 16 inputs.</p>
<p ><a class="anchor" id="oddeven"></a></p><h4>3.2.3 <code>Odd-even</code></h4>
<p ><code>Odd-even</code> generates Batcher's odd-even sorting network from the following paper. <a class="el" href="index.html#fig5">Fig. 5</a> (left) shows an odd-even sorting network with 16 inputs.</p>
<blockquote class="doxtable">
<p >K. E. Batcher, "Sorting networks and their applications", In Proc. AFIPS Spring Joint Computer Conference, Vol. 32, pp. 307–314, 1968. </p>
</blockquote>
<p ><a class="anchor" id="fig5"></a></p><div class="image">
<object type="image/svg+xml" data="triple.svg" width="95%" style="pointer-events: none;"></object>
<div class="caption">
Fig. 5: A 16-input odd-even (left), bitonic (center), and pairwise (right) sorting network.</div></div>
<p ><a class="anchor" id="bitonic"></a></p><h4>3.2.4 <code>Bitonic</code></h4>
<p ><code>Bitonic</code> generates Batcher's bitonic sorting network from the following paper. <a class="el" href="index.html#fig5">Fig. 5</a> (center) shows a bitonic sorting network with 16 inputs.</p>
<blockquote class="doxtable">
<p >K. E. Batcher, "Sorting networks and their applications", In Proc. AFIPS Spring Joint Computer Conference, Vol. 32, pp. 307–314, 1968. </p>
</blockquote>
<p ><a class="anchor" id="pairwise"></a></p><h4>3.2.5 <code>Pairwise</code></h4>
<p ><code>Pairwise</code> generates the pairwise sorting network from the following paper. <a class="el" href="index.html#fig5">Fig. 5</a> (right) shows a pairwise sorting network with 16 inputs.</p>
<blockquote class="doxtable">
<p >I. Parberry, "The pairwise sorting network", <em>Parallel Processing Letters</em>, Vol. 2, No. 2,3, pp. 205-211, 1992. </p>
</blockquote>
<h4>3.2.6 On the Number of Inputs to <code>Odd-even</code>, <code>Pairwise</code>, and <code>Bitonic</code> Sorting Networks</h4>
<p >Technically, the odd-even, bitonic, and pairwise sorting networks are only defined when the number of inputs is a power of 2. If you specify a number of inputs \(n\) that is not a power of 2, the generator will construct a sorting network with \(2^{\lceil \log_2 n\rceil}\) inputs (that is, it will round up to the next power of 2, if necessary) and remove unneeded channels and the comparators on them. If \(n\) is a power of 2, the odd-even and pairwise sorting networks have depth \(\log_2(n) (\log_2 (n) + 1)/2\) and size \(n\log_2 (n)(\log_2 (n) - 1)/4 + n - 1\), and the bitonic sorting network has the same depth and size \(n \log_2(n)/2\).</p>
<p ><a class="anchor" id="viewmenu"></a></p><h3>3.3 The <code>View</code> Menu</h3>
<div class="image">
<img src="ViewMenu.png" alt=""/>
</div>
<p >The <code>View</code> menu has three options, <code>Horizontal</code>, and <code>Vertical</code>. The default is <code>Horizontal</code> which displays and exports images in the standard form with horizontal channels and the output in non-decreasing order from bottom to top. Selecting <code>Vertical</code> will display and exports image with vertical channels and the output in non-decreasing order from left to right. For example, in <a class="el" href="index.html#fig6">Fig. 6</a> shows the 4-input sorting network from <a class="el" href="index.html#fig2">Fig. 2</a> drawn in vertical format.</p>
<p ><a class="anchor" id="fig6"></a> </p><div class="image">
<object type="image/svg+xml" data="w4d3s5v.svg" height="80" style="pointer-events: none;"></object>
<div class="caption">
Fig. 6: A 4-input sorting network drawn in vertical format.</div></div>
<p ><a class="anchor" id="helpmenu"></a></p><h3>3.4 The <code>Help</code> Menu</h3>
<div class="image">
<img src="HelpMenu.png" alt=""/>
</div>
<p >The <code>Help</code> menu has two entries, <code>Display</code> <code>help</code> which opens up this documentation in a browser, and <code>About</code> which displays the <code>About</code> dialog box.</p>
<hr  />
<p ><a class="anchor" id="section4"></a> </p><h2>4. Sorting Network Files </h2>
<p >The repository contains 11 sample comparator network files. The input format is described in <a class="el" href="index.html#open">Section 3.1.1</a>.</p>
<h3>4.1 <code>bad-input.txt</code></h3>
<p >An example of a bad input file for testing purposes. </p><pre class="fragment">  0 1 2 3
  0 2 foo 3
  1 2
</pre> <h3>4.2 <code>does-not-sort.txt</code>:</h3>
<p >A 16-input comparator network does not sort obtained from <code>knuth16.txt</code> below by deleting a comparator.</p>
<h3>4.3 <code>knuth16.txt</code></h3>
<p >A 16-input sorting network of depth 9 and size 61 shown in <a class="el" href="index.html#fig1">Fig. 1</a>.</p>
<h3>4.4 <code>w4d3s5.txt</code></h3>
<p >A 4-input sorting network of depth 3 and size 5 shown in <a class="el" href="index.html#fig2">Fig. 2</a>.</p>
<h3>4.5 <code>w5d5s8.txt</code></h3>
<p >A 5-input sorting network of depth 5 and size 8.</p>
<div class="image">
<object type="image/svg+xml" data="w5d5s8.svg" height="60" style="pointer-events: none;"></object>
</div>
<h3>4.6 <code>w6d5s12.txt</code></h3>
<p >A 6-input sorting network of depth 5 and size 12.</p>
<div class="image">
<object type="image/svg+xml" data="w6d5s12.svg" height="75" style="pointer-events: none;"></object>
</div>
<h3>4.7 <code>w7d6s16.txt</code></h3>
<p >A 7-input sorting network of depth 6 and size 16.</p>
<div class="image">
<object type="image/svg+xml" data="w7d6s16.svg" height="90" style="pointer-events: none;"></object>
</div>
<h3>4.8 <code>w8d6s19.txt</code></h3>
<p >An 8-input sorting network of depth 6 and size 19.</p>
<div class="image">
<object type="image/svg+xml" data="w8d6s19.svg" height="105" style="pointer-events: none;"></object>
</div>
<h3>4.9 <code>w9d7s27.txt</code></h3>
<p >A 9-input sorting network of depth 7 and size 27.</p>
<div class="image">
<object type="image/svg+xml" data="w9d7s27.svg" height="120" style="pointer-events: none;"></object>
</div>
<h3>4.10 <code>w10d7s31.txt</code></h3>
<p >A 10-input sorting network of depth 7 and size 31.</p>
<div class="image">
<object type="image/svg+xml" data="w10d7s31.svg" height="135" style="pointer-events: none;"></object>
</div>
<h3>4.11 <code>w10d7s32.txt</code></h3>
<p >A 10-input sorting network of depth 7 and size 32 obtained by inserting a redundant comparator (shown in red in <a class="el" href="index.html#fig3">Fig. 3</a>) into <code>w10d7s31.txt</code> above </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 19 2022 15:41:12 for Sorting Network Verify and Draw by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
