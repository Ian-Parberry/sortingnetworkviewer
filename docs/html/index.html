<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sorting Network Verify and Draw: Sorting Network Verify and Draw</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sorting Network Verify and Draw
   </div>
   <div id="projectbrief">Check Whether Comparator Networks Sort and Draw Them</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Sorting Network Verify and Draw </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>1. Introduction </h2>
<p >A <em>comparator network</em> consists of a fixed number of <em>channels</em> that carry scalar values from some strongly ordered set (usually integers or floating point numbers), and <em>comparators</em> that connect pairs of channels, swapping the values on the channels if they are not in a desired order. Comparator networks that sort all inputs are called <em>sorting networks</em>. See the <a href="https://en.wikipedia.org/wiki/Sorting_network">Wikipedia page</a> for more information.</p>
<p >The source code for this sorting network drawing and verification tool, written and maintained by <a href="https://ianparberry.com">Ian Parberry</a>, can load comparator networks from a text file or generate any of the three standard sorting networks: odd-even, bitonic, and pairwise. Once loaded a comparator network will be drawn with the channels running horizontally and the comparators running vertically. For example, <a class="el" href="index.html#fig1">Fig. 1</a> shows, from left to right, a 16-input odd-even, bitonic, and pairwise sorting network.</p>
<p ><a class="anchor" id="fig1"></a> </p><div class="image">
<object type="image/svg+xml" data="triple.svg" width="85%" style="pointer-events: none;"></object>
<div class="caption">
Fig. 1: A 16-input odd-even (left), bitonic (center), and pairwise (right) sorting network.</div></div>
<p >The image can be exported as a <code>PNG</code> file, an <code>SVG</code> file, or a <code>TeX</code> file (see <a class="el" href="index.html#export">Section 3.1.3</a> for more information). The comparators route the smaller of the values on its channels to the upper of the two channels that it is connected to, and the larger of the two values to the lower. A comparator network can be be tested to verify that it is a sorting network, that is, whether the outputs of the sorting network are in non-descending order from top to bottom.</p>
<h2>2. Code Overview </h2>
<p >It is assumed that the reader is familiar with the basics of Windows programming such as <code>WinMain</code>, the Window procedure, message passing, and drop-down menus. <code><a class="el" href="_main_8cpp.html" title="The window procedure WndProc(), and wWinMain().">Main.cpp</a></code> contains the mandatory Windows functions <code><a class="el" href="_main_8cpp.html#ad7483c50ba0ceb8cee64426d4e7e9bb3" title="Winmain.">wWinMain()</a></code> and a Window procedure <code><a class="el" href="_main_8cpp.html#a30a1e3b0304f1b083637664cbda94e72" title="Window procedure.">WndProc()</a></code>, which use a single global variable <code>static CMain* g_pMain</code>. Most of the other gnarly Windows-specific code, which used the <code>Win32</code> API, is hidden away in <code><a class="el" href="_windows_helpers_8cpp.html" title="Code for some helpful Windows-specific functions.">WindowsHelpers.cpp</a></code> and <code><a class="el" href="_windows_helpers_8cpp.html" title="Code for some helpful Windows-specific functions.">WindowsHelpers.cpp</a></code>. <code>Gdi+</code> is used for the graphics. The main class is <code><a class="el" href="class_c_main.html" title="The main class.">CMain</a></code>, which encapsulates the main body of the code in the approved object-oriented fashion.</p>
<h2>3. The Controls </h2>
<p >The menu bar at the top of the application window has four drop-down menus, <a class="el" href="index.html#filemenu">File</a>, <a class="el" href="index.html#generatemenu">Generate</a>, <a class="el" href="index.html#viewmenu">View</a>, and <a class="el" href="index.html#helpmenu">Help</a>.</p>
<hr  />
<p ><a class="anchor" id="filemenu"></a></p><h3>3.1 The <code>File</code> Menu</h3>
<div class="image">
<img src="FileMenu.png" alt=""/>
</div>
<p >The <code>File</code> menu has four options, <a class="el" href="index.html#open">Open</a>, <a class="el" href="index.html#verify">Verify</a>, <a class="el" href="index.html#export">Export</a>, and <a class="el" href="index.html#quit">Quit</a>.</p>
<p ><a class="anchor" id="open"></a></p><h4>3.1.1 <code>Open</code></h4>
<p >Selecting <code>Open</code> will pop up a Windows <code>Open</code> <code>File</code> dialog box that will allow you to choose a text file to load. Be aware that there is minimal error checking and no error reporting, so it is best to load only text files that are in the correct format for a comparator network, which is as follows. An \(n\)-input comparator network of depth \(d\) will have \(d\) lines of text, one for each layer of non-overlapping comparators (that is, no two comparators in the same level can have a channel in common). Each line contains a number of pairs \(i,j\) of channel numbers, one for each comparator on that level, where \(0 \leq i,j &lt; n\). The channel numbers should be separated by spaces. For example, the following three-line text file </p><pre class="fragment"> 0 1 2 3
 0 2 1 3
 1 2
</pre><p> describes the four-input sorting network below in Fig. 2. The channels are numbered 0 through 3 from bottom to top.</p>
<p ><a class="anchor" id="fig2"></a> </p><div class="image">
<object type="image/svg+xml" data="w4d3s5.svg" width="80" style="pointer-events: none;"></object>
<div class="caption">
Fig. 2: A 4-input sorting network.</div></div>
<p >This sorting network can be loaded from <code>w4d3s5.txt</code>, which can be found, along with a few other examples, in the folder containing the Visual Studio solution file for this project.</p>
<p ><a class="anchor" id="verify"></a></p><h4>3.1.2 <code>Verify</code></h4>
<p >Selecting <code>Verify</code> will test whether the current comparator network is a sorting network, and also tell you its size and depth. This process will take time exponential in the number of inputs, which is probably the best we can do because sorting network verification is Co-NP-complete even for shallow sorting networks (for example, see the following papers).</p>
<blockquote class="doxtable">
<p >I. Parberry, "Single-exception sorting networks and the computational complexity of 
optimal sorting network verification", <em>Mathematical Systems Theory</em>, Vol. 23, No. 1, pp. 81–93, 1990.</p>
<p >I. Parberry, "On the computational complexity of optimal sorting network 
verification", in Parle91, Proceedings of Parallel Architectures and Languages Europe, pp. 252-269, 1991. </p>
</blockquote>
<p>You will be warned if the number of inputs to the sorting network is 30 or larger via the following dialog box:</p>
<div class="image">
<img src="proceed.png" alt="" width="40%"/>
</div>
<p >Clicking on the <code>No</code> button will abort the test. Clicking on the <code>Yes</code> button will allow the test to proceed. Be aware that if it takes too long, then the only way to cancel it will be to quit the application by clicking several times on the standard red x button at top-right of the window. If the test terminates, then you will see one of the following dialog boxes:</p>
<div class="image">
<img src="Verify.png" alt="" width="90%"/>
</div>
<p ><a class="anchor" id="export"></a></p><h4>3.1.3 <code>Export</code></h4>
<div class="image">
<img src="ExportMenu.png" alt=""/>
</div>
<p >The <code>Export</code> sub-menu will pop up a Windows <code>Save</code> <code>File</code> dialog box that can save an image of the current comparator network in one of three formats.</p>
<ol type="1">
<li><code>Png</code> saves the image as a bitmap in <code>Portable</code> <code>Network</code> <code>Graphics</code> format.</li>
<li><code>Svg</code> saves the image in <code>Scalable</code> <code>Vector</code> <code>Graphics</code> format which can be opened in any web browser. This is superior to <code>Png</code> format in that it can be zoomed in or out without pixelation.</li>
<li><code>TeX</code> saves the image as a \(\TeX\) <code>picture</code> environment that can be used as a figure in a \(\LaTeX\) document. For example, if the sorting network <code>knuth16.txt</code> is exported as <code>knuth16.tex</code>, then the following \(\LaTeX\) code will input it into a manuscript as a figure. <div class="fragment"><div class="line">\begin{figure}</div>
<div class="line">  \centering\input{knuth16.tex}</div>
<div class="line">  \caption{A 16-input sorting network.}</div>
<div class="line">\end{figure}</div>
</div><!-- fragment --></li>
</ol>
<p ><a class="anchor" id="quit"></a></p><h4>3.1.4 <code>Quit</code></h4>
<p >Selecting <code>Quit</code> will exit the application.</p>
<hr  />
<p ><a class="anchor" id="generatemenu"></a></p><h3>3.2 The <code>Generate</code> Menu</h3>
<div class="image">
<img src="GenerateMenu.png" alt=""/>
</div>
<p >The <code>Generate</code> menu has three options, <code>Odd-even</code>, <code>Bitonic</code>, and <code>Pairwise</code>. The first two options generate Batcher's odd-even and bitonic sorting networks from</p>
<blockquote class="doxtable">
<p >K. E. Batcher, "Sorting networks and their applications", In Proc. AFIPS Spring Joint Computer Conference, Vol. 32, pp. 307–314, 1968. </p>
</blockquote>
<p>The last option generates the pairwise sorting network from</p>
<blockquote class="doxtable">
<p >I. Parberry, "The pairwise sorting network", <em>Parallel Processing Letters</em>, Vol. 2, No. 2,3, pp. 205-211, 1992. </p>
</blockquote>
<p>Examples can be seen in <a class="el" href="index.html#fig1">Fig. 1</a>. All three choices will pop up a dialog box asking for the number of inputs.</p>
<div class="image">
<img src="inputs.png" alt=""/>
</div>
<p >Technically, the odd-even, bitonic, and pairwise sorting networks are only defined for a power of 2 inputs. If you specify a number of inputs that is not a power of two, the generator will round it up to the next power of two, generate the sorting network, and remove the unneeded channels and the comparators on them starting at the maximum channel.</p>
<hr  />
<p ><a class="anchor" id="viewmenu"></a></p><h3>3.3 The <code>View</code> Menu</h3>
<div class="image">
<img src="ViewMenu.png" alt=""/>
</div>
<p >The <code>View</code> menu has three options, <code>Horizontal</code>, and <code>Vertical</code>. The default is <code>Horizontal</code> which displays and exports images in the standard form with horizontal channels and the output in non-decreasing order from bottom to top. Selecting <code>Vertical</code> will display and exports image with vertical channels and the output in non-decreasing order from left to right. For example, in <a class="el" href="index.html#fig3">Fig. 3</a> shows the 4-input sorting network from <a class="el" href="index.html#fig2">Fig. 2</a> drawn in vertical format.</p>
<p ><a class="anchor" id="fig3"></a> </p><div class="image">
<object type="image/svg+xml" data="w4d3s5v.svg" height="80" style="pointer-events: none;"></object>
<div class="caption">
Fig. 3: A 4-input sorting network in vertical format.</div></div>
<hr  />
<p ><a class="anchor" id="helpmenu"></a></p><h3>3.4 The <code>Help</code> Menu</h3>
<div class="image">
<img src="HelpMenu.png" alt=""/>
</div>
<p >The <code>Help</code> menu has two entries, <code>Display help</code> which opens up this documentation in a browser, and <code>About</code> which displays the <code>About</code> dialog box. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Apr 15 2022 12:04:38 for Sorting Network Verify and Draw by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
